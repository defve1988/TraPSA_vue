(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-567ce0ee"],{"0fd9":function(t,e,a){"use strict";a("99af"),a("4160"),a("caad"),a("13d5"),a("4ec9"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("159b"),a("ddb0");var n=a("ade3"),i=a("5530"),s=(a("4b85"),a("2b0e")),o=a("d9f7"),c=a("80d2"),r=["sm","md","lg","xl"],l=["start","end","center"];function u(t,e){return r.reduce((function(a,n){return a[t+Object(c["F"])(n)]=e(),a}),{})}var d=function(t){return[].concat(l,["baseline","stretch"]).includes(t)},h=u("align",(function(){return{type:String,default:null,validator:d}})),p=function(t){return[].concat(l,["space-between","space-around"]).includes(t)},f=u("justify",(function(){return{type:String,default:null,validator:p}})),m=function(t){return[].concat(l,["space-between","space-around","stretch"]).includes(t)},_=u("alignContent",(function(){return{type:String,default:null,validator:m}})),v={align:Object.keys(h),justify:Object.keys(f),alignContent:Object.keys(_)},g={align:"align",justify:"justify",alignContent:"align-content"};function b(t,e,a){var n=g[t];if(null!=a){if(e){var i=e.replace(t,"");n+="-".concat(i)}return n+="-".concat(a),n.toLowerCase()}}var w=new Map;e["a"]=s["a"].extend({name:"v-row",functional:!0,props:Object(i["a"])(Object(i["a"])(Object(i["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d}},h),{},{justify:{type:String,default:null,validator:p}},f),{},{alignContent:{type:String,default:null,validator:m}},_),render:function(t,e){var a=e.props,i=e.data,s=e.children,c="";for(var r in a)c+=String(a[r]);var l=w.get(c);return l||function(){var t,e;for(e in l=[],v)v[e].forEach((function(t){var n=a[t],i=b(e,t,n);i&&l.push(i)}));l.push((t={"no-gutters":a.noGutters,"row--dense":a.dense},Object(n["a"])(t,"align-".concat(a.align),a.align),Object(n["a"])(t,"justify-".concat(a.justify),a.justify),Object(n["a"])(t,"align-content-".concat(a.alignContent),a.alignContent),t)),w.set(c,l)}(),t(a.tag,Object(o["a"])(i,{staticClass:"row",class:l}),s)}})},"18e5":function(t,e,a){"use strict";var n=a("b80a"),i=a.n(n);i.a},"3a2f":function(t,e,a){"use strict";a("a9e3");var n=a("ade3"),i=(a("9734"),a("4ad4")),s=a("a9ad"),o=a("16b7"),c=a("b848"),r=a("75eb"),l=a("f573"),u=a("f2e7"),d=a("80d2"),h=a("d9bd"),p=a("58df");e["a"]=Object(p["a"])(s["a"],o["a"],c["a"],r["a"],l["a"],u["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,n=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?e.offsetLeft:e.left,s=0;return this.top||this.bottom||n?s=i+e.width/2-a.width/2:(this.left||this.right)&&(s=i+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(s,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,n=!1!==this.attach?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=n+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=n+e.height/2-a.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(d["g"])(this.maxWidth),minWidth:Object(d["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(d["s"])(this,"activator",!0)&&Object(h["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=i["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===d["x"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(n["a"])(t,this.contentClass,!0),Object(n["a"])(t,"menuable__content__active",this.isActive),Object(n["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},5706:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"secondary",flat:""}},[a("v-container",{staticClass:"px-10 pt-1 pb-0"},[a("v-row",[a("v-col",{staticClass:"mt-2 px-0",attrs:{cols:"3"}},[a("v-card",{attrs:{height:"725px"}},[a("v-card-title",{staticClass:"pa-1 px-4 title primary lighten-2 font-weight-regular white--text"},[t._v(" Research Cases "),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-icon",t._g(t._b({attrs:{dark:"",icon:""},on:{click:t.add_new_case}},"v-icon",i,!1),n),[t._v("mdi-plus-circle")])]}}])},[a("span",[t._v("Add new research case.")])])],1),0==t.app_data.case.length?a("v-list",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item",[t._v("No cases exist.")])],1):a("v-list",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-group",{attrs:{mandatory:""},model:{value:t.app_data.ui_control.thumb_fig_index,callback:function(e){t.$set(t.app_data.ui_control,"thumb_fig_index",e)},expression:"app_data.ui_control.thumb_fig_index"}},t._l(t.app_data.case,(function(e,n){return a("v-list-item",{key:n,scopedSlots:t._u([{key:"default",fn:function(i){var s=i.active;return[a("v-list-item-action",[a("v-checkbox",{attrs:{"input-value":s}})],1),t._v(" "+t._s(e.name)+" "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.edit_case(n)}}},[a("v-icon",[t._v("mdi-pencil-outline")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.remove_case(n)}}},[a("v-icon",[t._v("mdi-delete-outline")])],1)]}}],null,!0)})})),1)],1)],1)],1),a("v-col",{attrs:{cols:"9"}},[a("v-row",{attrs:{dense:""}},t._l(t.figs,(function(e,n){return a("v-col",{key:n,staticClass:"px-2 py-3",attrs:{cols:"3",lg:"4",md:"6",sm:"12"}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(i){var s=i.hover;return[a("v-card",{attrs:{height:t.fig_height,elevation:s?16:2},on:{click:function(a){return t.enlarge(e.id)}}},[a("v-card-title",{staticClass:"justify-center pt-2 pa-0 subtitle-1 font-weight-light"},[t._v(t._s(e.text))]),t.show_case[n]?t._e():a("v-sheet",{staticClass:"ma-2",attrs:{color:"grey lighten-2"}},[a("sheet-footer",[t._v("No content can be dsiplayed")])],1),a("div",{ref:"my_"+e.id,refInFor:!0,staticClass:"my_dataviz mx-0 py-0 my-0",attrs:{id:e.id}})],1)]}}],null,!0)})],1)})),1)],1)],1)],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.app_data.ui_control.new_case.show,callback:function(e){t.$set(t.app_data.ui_control.new_case,"show",e)},expression:"app_data.ui_control.new_case.show"}},[a("CaseSelect",{on:{data_edited:t.case_selected}})],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.app_data.ui_control.fig_view.show,callback:function(e){t.$set(t.app_data.ui_control.fig_view,"show",e)},expression:"app_data.ui_control.fig_view.show"}},[a("FigureView")],1)],1)},i=[],s=(a("4de4"),a("7db0"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("5530")),o=a("2f62"),c=a("89e8"),r=a("cf1c"),l={name:"analysis",components:{CaseSelect:function(){return Promise.all([a.e("chunk-5302ff63"),a.e("chunk-05386022")]).then(a.bind(null,"e63b"))},FigureView:function(){return Promise.all([a.e("chunk-5302ff63"),a.e("chunk-cce260aa")]).then(a.bind(null,"ce59"))},SheetFooter:{functional:!0,render:function(t,e){var a=e.children;return t("v-sheet",{staticClass:"mt-auto align-center justify-center d-flex",props:{color:"rgba(0, 0, 0, .25)",dark:!0,height:170}},a)}}},data:function(){return{fig_height:"225px",show_case:[!1,!1,!1,!1,!1,!1,!1,!1,!1],p1:"",p2:"",figs:[{id:"histgram",text:"Histgram"},{id:"time_series",text:"Concentration"},{id:"monthly",text:"Seasonality"},{id:"diel",text:"Diel Pattern"},{id:"weekday",text:"Weekday Pattern"},{id:"trend",text:"Trend"},{id:"windrose",text:"Wind Rose"},{id:"cpf",text:"CPF Analysis"},{id:"cbpf",text:"CBPF Analysis"}]}},watch:{selected:function(){this.case_selected()}},computed:Object(s["a"])(Object(s["a"])({},Object(o["c"])({app_data:"app_data"})),{},{selected:function(){return this.app_data.ui_control.thumb_fig_index}}),mounted:function(){},methods:{add_new_case:function(){this.app_data.sites.data.length>0&&this.app_data.measurement.data.length>0?(this.app_data.ui_control.new_case.show=!0,this.app_data.ui_control.new_case.edit=-1):this.app_data.ui_control.snackbar={show:!1,text:"No data is uploaded, please upload data first.",color:"error"}},remove_case:function(t){this.app_data.case=this.app_data.case.filter((function(e,a){return a!=t})),t>=this.app_data.ui_control.thumb_fig_index&&(this.app_data.ui_control.thumb_fig_index-=1)},edit_case:function(t){var e=this.app_data.case[t];this.app_data.ui_control.new_case={show:!0,edit:t,selection:{case_name:e.name,site:e.site,chemical:e.chemical,traj_job:e.traj_job,year:e.selections.year,month:e.selections.month,hour:e.selections.hour}}},enlarge:function(t){var e=this.selected;this.app_data.ui_control.fig_view={show:!0,id:t,text:this.figs.find((function(e){return e.id===t})).text,selected_case_name:[this.app_data.case[e].name]}},case_selected:function(){var t=this,e=this.selected,a=this.app_data.case[e];this.plot_case=new c["a"](a.name);var n={width:this.$refs.my_histgram[0].clientWidth,height:180};console.log(n);var i={r:20,t:25,b:25,l:30};this.plot_case.set_fig_size("small",n,i),this.app_data.ui_control.isLoading="primary lighten-2",this.$worker.run((function(t){return t.map((function(t){return t.selected_chemical}))}),[a.data.measurement]).then((function(e){t.show_case.splice(0,1,!0),t.plot_case.plot_hist("histgram",[{x:e,chemical:a.chemical}],"small")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.TimeString)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(1,1,!0),t.plot_case.plot_line("time_series",[{x:e.x,y:e.y,chemical:a.chemical}],"small")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.TimeString)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(2,1,!0),t.plot_case.plot_averaged_box("monthly",[{x:e.x,y:e.y,chemical:a.chemical}],"small","monthly")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.TimeString)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(3,1,!0),t.plot_case.plot_averaged_box("diel",[{x:e.x,y:e.y,chemical:a.chemical}],"small","diel")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.TimeString)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(4,1,!0),t.plot_case.plot_averaged_box("weekday",[{x:e.x,y:e.y,chemical:a.chemical}],"small","weekday")}));var s=a.data.measurement.map((function(t){return{x:new Date(t.TimeString),y:parseFloat(t.selected_chemical)}}));this.$worker.run(r["a"].cal_period_avg,[s,"daily"]).then((function(e){t.show_case.splice(5,1,!0);var n=r["a"].linearRegression(e.y,e.x.map((function(t){return t.getTime()})));t.plot_case.plot_trend("trend",[{x:e.x,y:e.y,chemical:a.chemical,lr:n}],"small"),!a.data.wind.length>0&&(t.app_data.ui_control.isLoading=!1)})),a.data.wind.length>0&&(this.$worker.run(r["a"].data_cal_windrose,[a.data.wind]).then((function(e){t.show_case.splice(6,1,!0),t.plot_case.plot_windrose("windrose",e,"small")})),this.$worker.run(r["a"].data_cal_cpf,[a.data.measurement,a.data.wind,[this.app_data.parameters.cpf]]).then((function(e){t.show_case.splice(7,1,!0),t.plot_case.plot_cpf("cpf",e.cpf,"small"),t.show_case.splice(8,1,!0),t.plot_case.plot_cbpf("cbpf",e.cbpf,"small"),t.app_data.ui_control.isLoading=!1})))}}},u=l,d=(a("18e5"),a("2877")),h=a("6544"),p=a.n(h),f=a("8336"),m=a("b0af"),_=a("99d9"),v=a("ac7c"),g=a("62ad"),b=a("a523"),w=a("169a"),y=a("ce87"),x=a("132d"),k=a("8860"),C=a("da13"),j=a("1800"),S=a("1baa"),O=a("0fd9"),I=a("8dd9"),T=a("2fa4"),$=a("3a2f"),A=Object(d["a"])(u,n,i,!1,null,"a1fda75c",null);e["default"]=A.exports;p()(A,{VBtn:f["a"],VCard:m["a"],VCardTitle:_["c"],VCheckbox:v["a"],VCol:g["a"],VContainer:b["a"],VDialog:w["a"],VHover:y["a"],VIcon:x["a"],VList:k["a"],VListItem:C["a"],VListItemAction:j["a"],VListItemGroup:S["a"],VRow:O["a"],VSheet:I["a"],VSpacer:T["a"],VTooltip:$["a"]})},"6ca7":function(t,e,a){},9734:function(t,e,a){},a523:function(t,e,a){"use strict";a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("20f6"),a("4b85");var n=a("e8f2"),i=a("d9f7");e["a"]=Object(n["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,n=e.props,s=e.data,o=e.children,c=s.attrs;return c&&(s.attrs={},a=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e}))),n.id&&(s.domProps=s.domProps||{},s.domProps.id=n.id),t(n.tag,Object(i["a"])(s,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(a||[])}),o)}})},ac7c:function(t,e,a){"use strict";a("d3b7"),a("25f0");var n=a("5530"),i=(a("6ca7"),a("ec29"),a("9d26")),s=a("c37a"),o=a("fe09");e["a"]=o["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(n["a"])(Object(n["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.disabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(i["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(n["a"])(Object(n["a"])({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},b80a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-567ce0ee.f441b654.js.map