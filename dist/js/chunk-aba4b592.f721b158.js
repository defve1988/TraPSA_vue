(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aba4b592"],{"04ea":function(t,e,a){"use strict";var i=a("e7d7"),n=a.n(i);n.a},"0fd9":function(t,e,a){"use strict";a("99af"),a("4160"),a("caad"),a("13d5"),a("4ec9"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("159b"),a("ddb0");var i=a("ade3"),n=a("5530"),r=(a("4b85"),a("2b0e")),s=a("d9f7"),o=a("80d2"),l=["sm","md","lg","xl"],c=["start","end","center"];function u(t,e){return l.reduce((function(a,i){return a[t+Object(o["F"])(i)]=e(),a}),{})}var h=function(t){return[].concat(c,["baseline","stretch"]).includes(t)},d=u("align",(function(){return{type:String,default:null,validator:h}})),p=function(t){return[].concat(c,["space-between","space-around"]).includes(t)},f=u("justify",(function(){return{type:String,default:null,validator:p}})),m=function(t){return[].concat(c,["space-between","space-around","stretch"]).includes(t)},v=u("alignContent",(function(){return{type:String,default:null,validator:m}})),g={align:Object.keys(d),justify:Object.keys(f),alignContent:Object.keys(v)},_={align:"align",justify:"justify",alignContent:"align-content"};function y(t,e,a){var i=_[t];if(null!=a){if(e){var n=e.replace(t,"");i+="-".concat(n)}return i+="-".concat(a),i.toLowerCase()}}var b=new Map;e["a"]=r["a"].extend({name:"v-row",functional:!0,props:Object(n["a"])(Object(n["a"])(Object(n["a"])({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:h}},d),{},{justify:{type:String,default:null,validator:p}},f),{},{alignContent:{type:String,default:null,validator:m}},v),render:function(t,e){var a=e.props,n=e.data,r=e.children,o="";for(var l in a)o+=String(a[l]);var c=b.get(o);return c||function(){var t,e;for(e in c=[],g)g[e].forEach((function(t){var i=a[t],n=y(e,t,i);n&&c.push(n)}));c.push((t={"no-gutters":a.noGutters,"row--dense":a.dense},Object(i["a"])(t,"align-".concat(a.align),a.align),Object(i["a"])(t,"justify-".concat(a.justify),a.justify),Object(i["a"])(t,"align-content-".concat(a.alignContent),a.alignContent),t)),b.set(o,c)}(),t(a.tag,Object(s["a"])(n,{staticClass:"row",class:c}),r)}})},1800:function(t,e,a){"use strict";a("4de4");var i=a("2b0e");e["a"]=i["a"].extend({name:"v-list-item-action",functional:!0,render:function(t,e){var a=e.data,i=e.children,n=void 0===i?[]:i;a.staticClass=a.staticClass?"v-list-item__action ".concat(a.staticClass):"v-list-item__action";var r=n.filter((function(t){return!1===t.isComment&&" "!==t.text}));return r.length>1&&(a.staticClass+=" v-list-item__action--stack"),t("div",a,n)}})},"3a2f":function(t,e,a){"use strict";a("a9e3");var i=a("ade3"),n=(a("9734"),a("4ad4")),r=a("a9ad"),s=a("16b7"),o=a("b848"),l=a("75eb"),c=a("f573"),u=a("f2e7"),h=a("80d2"),d=a("d9bd"),p=a("58df");e["a"]=Object(p["a"])(r["a"],s["a"],o["a"],l["a"],c["a"],u["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,n=!1!==this.attach?e.offsetLeft:e.left,r=0;return this.top||this.bottom||i?r=n+e.width/2-a.width/2:(this.left||this.right)&&(r=n+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(r,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,i=!1!==this.attach?e.offsetTop:e.top,n=0;return this.top||this.bottom?n=i+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(n=i+e.height/2-a.height/2),this.nudgeTop&&(n-=parseInt(this.nudgeTop)),this.nudgeBottom&&(n+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(n+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(h["g"])(this.maxWidth),minWidth:Object(h["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(h["s"])(this,"activator",!0)&&Object(d["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=n["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===h["x"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(i["a"])(t,this.contentClass,!0),Object(i["a"])(t,"menuable__content__active",this.isActive),Object(i["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},5311:function(t,e,a){"use strict";var i=a("5607"),n=a("2b0e");e["a"]=n["a"].extend({name:"rippleable",directives:{ripple:i["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),t.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",t)):null},onChange:function(){}}})},5706:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"secondary",flat:""}},[a("v-container",{staticClass:"px-10 pt-1 pb-0"},[a("v-row",[a("v-col",{staticClass:"mt-2 px-0",attrs:{cols:"3"}},[a("v-card",{attrs:{height:"725px"}},[a("v-system-bar",{class:t.ui_control.system_bar_class},[t._v(" Research Cases "),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,n=e.attrs;return[a("v-icon",t._g(t._b({attrs:{dark:"",icon:""},on:{click:t.add_new_case}},"v-icon",n,!1),i),[t._v("mdi-plus-circle")])]}}])},[a("span",[t._v("Add new research case.")])])],1),0==t.app_data.case.length?a("v-list",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item",[t._v("No cases exist.")])],1):a("v-list",{staticClass:"pa-0",attrs:{dense:""}},[a("v-list-item-group",{attrs:{mandatory:""},model:{value:t.ui_control.thumb_fig_index,callback:function(e){t.$set(t.ui_control,"thumb_fig_index",e)},expression:"ui_control.thumb_fig_index"}},t._l(t.app_data.case,(function(e,i){return a("v-list-item",{key:i,scopedSlots:t._u([{key:"default",fn:function(n){var r=n.active;return[a("v-list-item-action",[a("v-checkbox",{attrs:{"input-value":r}})],1),t._v(" "+t._s(e.name)+" "),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.edit_case(i)}},nativeOn:{click:function(t){t.stopPropagation()}}},[a("v-icon",[t._v("mdi-pencil-outline")])],1),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.remove_case(i)}},nativeOn:{click:function(t){t.stopPropagation()}}},[a("v-icon",[t._v("mdi-delete-outline")])],1)]}}],null,!0)})})),1)],1)],1)],1),a("v-col",{attrs:{cols:"9"}},[a("v-row",{attrs:{dense:""}},t._l(t.figs,(function(e,i){return a("v-col",{key:i,staticClass:"px-2 py-3",attrs:{cols:"3",lg:"4",md:"6",sm:"12"}},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(n){var r=n.hover;return[a("v-card",{attrs:{height:t.fig_height,elevation:r?16:2},on:{click:function(a){return t.enlarge(e.id)}}},[a("v-system-bar",{class:t.ui_control.system_bar_class},[t._v(" "+t._s(e.text))]),t.show_case[i]?t._e():a("v-sheet",{staticClass:"ma-2",attrs:{color:"grey lighten-2"}},[a("sheet-footer",[t._v("No content can be dsiplayed")])],1),a("div",{ref:"my_"+e.id,refInFor:!0,staticClass:"my_dataviz mx-0 py-0 my-0",attrs:{id:e.id}})],1)]}}],null,!0)})],1)})),1)],1)],1)],1),a("v-dialog",{attrs:{width:"800"},model:{value:t.ui_control.new_case.show,callback:function(e){t.$set(t.ui_control.new_case,"show",e)},expression:"ui_control.new_case.show"}},[a("CaseSelect",{attrs:{select_type:"case"},on:{data_edited:t.case_selected}})],1),a("v-dialog",{attrs:{width:"1200"},model:{value:t.ui_control.fig_view.show,callback:function(e){t.$set(t.ui_control.fig_view,"show",e)},expression:"ui_control.fig_view.show"}},[a("FigureView")],1)],1)},n=[],r=(a("4de4"),a("7db0"),a("d81d"),a("a434"),a("b0c0"),a("d3b7"),a("5530")),s=a("2f62"),o=a("89e8"),l=a("cf1c"),c={name:"analysis",components:{CaseSelect:function(){return Promise.all([a.e("chunk-014ab019"),a.e("chunk-9d303fce")]).then(a.bind(null,"e63b"))},FigureView:function(){return Promise.all([a.e("chunk-014ab019"),a.e("chunk-5d19472e")]).then(a.bind(null,"ce59"))},SheetFooter:{functional:!0,render:function(t,e){var a=e.children;return t("v-sheet",{staticClass:"mt-auto align-center justify-center d-flex",props:{color:"rgba(0, 0, 0, .25)",dark:!0,height:180}},a)}}},data:function(){return{fig_height:"225px",show_case:[!1,!1,!1,!1,!1,!1,!1,!1,!1],p1:"",p2:"",figs:[{id:"histgram",text:"Histgram"},{id:"time_series",text:"Concentration"},{id:"monthly",text:"Seasonality"},{id:"diel",text:"Diel Pattern"},{id:"weekday",text:"Weekday Pattern"},{id:"trend",text:"Trend"},{id:"windrose",text:"Wind Rose"},{id:"cpf",text:"CPF Analysis"},{id:"cbpf",text:"CBPF Analysis"}]}},watch:{selected:function(){this.case_selected()}},computed:Object(r["a"])(Object(r["a"])({},Object(s["c"])({app_data:"app_data",ui_control:"ui_control"})),{},{selected:function(){return this.ui_control.thumb_fig_index}}),mounted:function(){},methods:{add_new_case:function(){this.app_data.sites.df.length>0&&this.app_data.conc_df.df.length>0?(this.ui_control.new_case.show=!0,this.ui_control.new_case.edit=-1):this.ui_control.snackbar={show:!1,text:"No data is uploaded, please upload data first.",color:"error"}},remove_case:function(t){this.app_data.case=this.app_data.case.filter((function(e,a){return a!=t})),t<=this.ui_control.thumb_fig_index&&this.ui_control.thumb_fig_index>0&&(this.ui_control.thumb_fig_index-=1)},edit_case:function(t){var e=this.app_data.case[t];this.ui_control.new_case={show:!0,edit:t,selection:{case_name:e.name,site:e.site,chemical:e.chemical,traj_job:e.traj_job,year:e.selections.year,month:e.selections.month,hour:e.selections.hour}}},enlarge:function(t){var e=this.selected;this.ui_control.fig_view={show:!0,id:t,text:this.figs.find((function(e){return e.id===t})).text,selected_case_name:[this.app_data.case[e].name]}},case_selected:function(){var t=this,e=this.selected,a=this.app_data.case[e];this.plot_case=new o["a"](a.name);var i={width:this.$refs.my_histgram[0].clientWidth,height:200},n={r:20,t:25,b:25,l:30};this.plot_case.set_fig_size("small",i,n),this.ui_control.isLoading="primary lighten-2",this.$worker.run((function(t){return t.map((function(t){return t.selected_chemical}))}),[a.data.measurement]).then((function(e){t.show_case.splice(0,1,!0),t.plot_case.plot_hist("histgram",[{x:e,chemical:a.chemical}],"small")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.time_stamp)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(1,1,!0),t.plot_case.plot_line("time_series",[{x:e.x,y:e.y,chemical:a.chemical}],"small")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.time_stamp)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(2,1,!0),t.plot_case.plot_averaged_box("monthly",[{x:e.x,y:e.y,chemical:a.chemical}],"small","monthly")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.time_stamp)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(3,1,!0),t.plot_case.plot_averaged_box("diel",[{x:e.x,y:e.y,chemical:a.chemical}],"small","diel")})),this.$worker.run((function(t){var e=t.map((function(t){return new Date(t.time_stamp)})),a=t.map((function(t){return t.selected_chemical}));return{x:e,y:a}}),[a.data.measurement]).then((function(e){t.show_case.splice(4,1,!0),t.plot_case.plot_averaged_box("weekday",[{x:e.x,y:e.y,chemical:a.chemical}],"small","weekday")}));var r=a.data.measurement.map((function(t){return{x:new Date(t.time_stamp),y:parseFloat(t.selected_chemical)}}));this.$worker.run(l["a"].cal_period_avg,[r,"daily"]).then((function(e){t.show_case.splice(5,1,!0);var i=l["a"].linearRegression(e.y,e.x.map((function(t){return t.getTime()})));t.plot_case.plot_trend("trend",[{x:e.x,y:e.y,chemical:a.chemical,lr:i}],"small"),!a.data.wind.length>0&&(t.ui_control.isLoading=!1)})),a.data.wind.length>0&&(this.$worker.run(l["a"].data_cal_windrose,[a.data.wind]).then((function(e){t.show_case.splice(6,1,!0),t.plot_case.plot_windrose("windrose",e,"small")})),this.$worker.run(l["a"].data_cal_cpf,[a.data.measurement,a.data.wind,[this.app_data.parameters.cpf]]).then((function(e){t.show_case.splice(7,1,!0),t.plot_case.plot_cpf("cpf",e.cpf,"small"),t.show_case.splice(8,1,!0),t.plot_case.plot_cbpf("cbpf",e.cbpf,"small"),t.ui_control.isLoading=!1})))}}},u=c,h=(a("04ea"),a("2877")),d=a("6544"),p=a.n(d),f=a("8336"),m=a("b0af"),v=a("ac7c"),g=a("62ad"),_=a("a523"),y=a("169a"),b=a("ce87"),w=a("132d"),x=a("8860"),k=a("da13"),S=a("1800"),C=a("1baa"),j=a("0fd9"),O=a("8dd9"),A=a("2fa4"),E=a("afd9"),N=a("3a2f"),W=Object(h["a"])(u,i,n,!1,null,"42ed389e",null);e["default"]=W.exports;p()(W,{VBtn:f["a"],VCard:m["a"],VCheckbox:v["a"],VCol:g["a"],VContainer:_["a"],VDialog:y["a"],VHover:b["a"],VIcon:w["a"],VList:x["a"],VListItem:k["a"],VListItemAction:S["a"],VListItemGroup:C["a"],VRow:j["a"],VSheet:O["a"],VSpacer:A["a"],VSystemBar:E["a"],VTooltip:N["a"]})},"6ca7":function(t,e,a){},8308:function(t,e,a){},8547:function(t,e,a){"use strict";var i=a("2b0e"),n=a("80d2");e["a"]=i["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:n["j"]}}})},"89e8":function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));a("99af"),a("cb29"),a("a630"),a("d81d"),a("d3b7"),a("3ca3"),a("c96a"),a("ddb0");var i=a("3835"),n=a("b85c"),r=a("d4ec"),s=a("bee2"),o=a("030a"),l=a.n(o);function c(t,e){3===t.length&&(t="".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2]));var a=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),n=parseInt(t.substring(4,6),16);return"rgba(".concat(a,",").concat(i,",").concat(n,",").concat(e,")")}var u=function(){function t(e){Object(r["a"])(this,t),this.case_name=e,this.small_fig={width:300,height:200},this.medium_fig={width:750,height:400},this.large_fig={width:1180,height:600},this.small_margin={r:20,t:25,b:25,l:20},this.medium_margin={r:20,t:50,b:25,l:20},this.large_margin={r:100,t:50,b:75,l:125},this.color_theme=["1E88E5","28965A","E53E20","7CB342","d95282","FBC02D","00B8DC","232322","AAAAAA"],this.plotly_config={small:{displaylogo:!1,responsive:!0,displayModeBar:!1,staticPlot:!0},medium:{displaylogo:!1,responsive:!0,displayModeBar:!1,staticPlot:!1},large:{displaylogo:!1,responsive:!0,displayModeBar:!1,staticPlot:!1,editable:!0}},this.layout_default={small:{margin:this.small_margin,width:this.small_fig.width,height:this.small_fig.height,font:{size:10},showlegend:!1,autosize:!0},medium:{margin:this.medium_margin,width:this.medium_fig.width,height:this.medium_fig.height,font:{size:14},showlegend:!0,legend:{font:{size:12},xanchor:"auto",yanchor:"auto",x:1,y:0},autosize:!0},large:{margin:this.large_margin,width:this.large_fig.width,height:this.large_fig.height,font:{size:14},showlegend:!0,legend:{font:{size:12},xanchor:"auto",yanchor:"auto",x:1,y:0},autosize:!0}}}return Object(s["a"])(t,[{key:"clear",value:function(t){l.a.purge(t)}},{key:"save_image",value:function(t,e){l.a.toImage(t,{format:"png",height:800,width:1200}).then((function(t){var a=document.createElement("a");a.href=t,a.setAttribute("download",e+".png"),a.click()}))}},{key:"set_fig_size",value:function(t,e,a){"small"==t?(this.layout_default.small.width=e.width,this.layout_default.small.height=e.height,this.layout_default.small.margin=a):"medium"==t?(this.layout_default.medium.width=e.width,this.layout_default.medium.height=e.height,this.layout_default.medium.margin=a):(this.layout_default.large.width=e.width,this.layout_default.large.height=e.height,this.layout_default.large.margin=a)}},{key:"set_layout",value:function(t,e){return"small"==t?Object.assign(this.layout_default.small,e):"medium"==t?Object.assign(this.layout_default.medium,e):Object.assign(this.layout_default.large,e)}},{key:"set_title",value:function(t,e){var a={title:e};l.a.relayout(t,a)}},{key:"plot_hist",value:function(t,e,a){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=0,u=[],h=Object(n["a"])(e.entries());try{for(h.s();!(r=h.n()).done;){var d=Object(i["a"])(r.value,2),p=d[0],f=d[1];u.push({x:f.x,name:f.chemical,autobinx:!0,histnorm:"count",marker:{color:c(this.color_theme[(p+o)%9],1),line:{color:c(this.color_theme[(p+o)%9],1),width:1}},opacity:.7,type:"histogram"})}}catch(g){h.e(g)}finally{h.f()}var m={bargap:.05,bargroupgap:.2,barmode:"overlay",title:"small"==a?"":"Histgram",xaxis:"small"==a?{}:{title:"Value"},yaxis:"small"==a?{}:{title:"Count"}};Object.assign(m,s);var v=this.set_layout(a,m);l.a.newPlot(t,u,v,this.plotly_config[a])}},{key:"plot_line",value:function(t,e,a){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=1,u=[],h=Object(n["a"])(e.entries());try{for(h.s();!(r=h.n()).done;){var d=Object(i["a"])(r.value,2),p=d[0],f=d[1];u.push({mode:"lines",name:f.chemical,x:f.x,y:f.y,connectgaps:!1,line:{color:c(this.color_theme[(p+o)%9],.7)},marker:{size:"small"==a?2:5,color:c(this.color_theme[p],.7)}})}}catch(g){h.e(g)}finally{h.f()}var m={title:"small"==a?"":"Time Series",xaxis:"small"==a?{type:"date",tickformat:"%b %Y"}:{title:"Date",type:"date",tickformat:"%b-%d %Y"},yaxis:"small"==a?{}:{title:"Conc."}};Object.assign(m,s);var v=this.set_layout(a,m);l.a.newPlot(t,u,v,this.plotly_config[a])}},{key:"plot_averaged_box",value:function(t,e,a,r){var s,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=[],h="",d="",p="",f=[],m=Object(n["a"])(e.entries());try{for(m.s();!(s=m.n()).done;){var v=Object(i["a"])(s.value,2),g=v[0],_=v[1],y=[];switch(r){case"monthly":y=_.x.map((function(t){return t.getMonth()})),d="Monthly",p="month",h=c(this.color_theme[(g+2)%9],.7),f=Array.from(Array(12).keys());break;case"diel":y=_.x.map((function(t){return t.getHours()})),d="Diel",p="hour",h=c(this.color_theme[(g+3)%9],.7),f=Array.from(Array(24).keys());break;case"weekday":y=_.x.map((function(t){return t.getDay()})),d="Weekday",p="weekday",h=c(this.color_theme[(g+4)%9],.7),f=Array.from(Array(7).keys());break}u.push({x:y,y:_.y,name:_.chemical,marker:{color:h,outliercolor:"rgba(219, 64, 82, 0.6)",line:{outliercolor:"rgba(219, 64, 82, 1.0)"}},type:"box",boxpoints:"Outliers"})}}catch(x){m.e(x)}finally{m.f()}var b={boxmode:"group",title:"small"==a?"":d,xaxis:"small"==a?{tickvals:f,ticktext:f}:{title:p,tickvals:f,ticktext:f},yaxis:"small"==a?{}:{title:"Conc."}};Object.assign(b,o);var w=this.set_layout(a,b);l.a.newPlot(t,u,w,this.plotly_config[a])}},{key:"plot_trend",value:function(t,e,a){var r,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=5,u=[],h=Object(n["a"])(e.entries());try{for(h.s();!(r=h.n()).done;){var d=Object(i["a"])(r.value,2),p=d[0],f=d[1];u.push({type:"scatter",mode:"markers",name:f.chemical,x:f.x,y:f.y,connectgaps:!1,line:{color:c(this.color_theme[(p+o)%9],.5)},trendline:"ols",marker:{size:"small"==a?2:5,color:c(this.color_theme[p],.7)}}),u.push({type:"scatter",mode:"lines",name:f.chemical,x:[new Date(f.lr.line.x1),new Date(f.lr.line.x2)],y:[f.lr.line.y1,f.lr.line.y2],connectgaps:!1,line:{color:c(this.color_theme[(p+o)%9],1)}})}}catch(g){h.e(g)}finally{h.f()}var m={title:"small"==a?"":"Trend",xaxis:"small"==a?{type:"date",tickformat:"%b %Y"}:{title:"Date",type:"date",tickformat:"%b-%d %Y"},yaxis:"small"==a?{}:{title:"Conc."}};Object.assign(m,s);var v=this.set_layout(a,m);l.a.newPlot(t,u,v,this.plotly_config[a])}},{key:"plot_windrose",value:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=["North","NNE","NE","ENE","East","ESE","SE","SSE","South","SSW","SW","WSW","West","WNS","NW","NNW"];null==e&&(e=[{r:new Array(16).fill(0),theta:n,type:"barpolar"}]);var r={title:"small"==a?"":"Wind Rose",polar:{barmode:"overlay",bargap:0,radialaxis:{ticksuffix:"%",angle:45,dtick:5},angularaxis:{direction:"clockwise"}}};Object.assign(r,i);var s=this.set_layout(a,r);l.a.newPlot(t,e,s,this.plotly_config[a])}},{key:"plot_cpf",value:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=[e.high,e.all],r={title:"small"==a?"":"CPF Analysis",polar:{radialaxis:{ticksuffix:"%",angle:45,dtick:5},angularaxis:{direction:"clockwise"}}};Object.assign(r,i);var s=this.set_layout(a,r);l.a.newPlot(t,n,s,this.plotly_config[a])}},{key:"plot_cbpf",value:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n={title:"small"==a?"":"CBPF Analysis",polar:{bgcolor:"#162876",radialaxis:{ticksuffix:"%",angle:45,dtick:5},angularaxis:{direction:"clockwise",tickwidth:2,linewidth:3,layer:"above traces"}}};Object.assign(n,i);var r=this.set_layout(a,n);l.a.newPlot(t,e,r,this.plotly_config[a])}}]),t}()},9734:function(t,e,a){},a523:function(t,e,a){"use strict";a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("20f6"),a("4b85");var i=a("e8f2"),n=a("d9f7");e["a"]=Object(i["a"])("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,i=e.props,r=e.data,s=e.children,o=r.attrs;return o&&(r.attrs={},a=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(r.attrs[t]=e,!1):e||"string"===typeof e}))),i.id&&(r.domProps=r.domProps||{},r.domProps.id=i.id),t(i.tag,Object(n["a"])(r,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(a||[])}),s)}})},ac7c:function(t,e,a){"use strict";a("d3b7"),a("25f0");var i=a("5530"),n=(a("6ca7"),a("ec29"),a("9d26")),r=a("c37a"),s=a("fe09");e["a"]=s["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.disabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(n["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(i["a"])(Object(i["a"])({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},afd9:function(t,e,a){"use strict";a("a9e3"),a("c7cd");var i=a("5530"),n=(a("8308"),a("3a66")),r=a("a9ad"),s=a("7560"),o=a("58df"),l=a("80d2");e["a"]=Object(o["a"])(Object(n["a"])("bar",["height","window"]),r["a"],s["a"]).extend({name:"v-system-bar",props:{height:[Number,String],lightsOut:Boolean,window:Boolean},computed:{classes:function(){return Object(i["a"])({"v-system-bar--lights-out":this.lightsOut,"v-system-bar--absolute":this.absolute,"v-system-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-system-bar--window":this.window},this.themeClasses)},computedHeight:function(){return this.height?isNaN(parseInt(this.height))?this.height:parseInt(this.height):this.window?32:24},styles:function(){return{height:Object(l["g"])(this.computedHeight)}}},methods:{updateApplication:function(){return this.$el?this.$el.clientHeight:this.computedHeight}},render:function(t){var e={staticClass:"v-system-bar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,e),Object(l["r"])(this))}})},ce87:function(t,e,a){"use strict";var i=a("16b7"),n=a("f2e7"),r=a("58df"),s=a("d9bd");e["a"]=Object(r["a"])(i["a"],n["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(s["c"])("v-hover should only contain a single element",this),t)):(Object(s["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var t}})},cf1c:function(t,e,a){"use strict";a("cb29"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("13d5"),a("2532"),a("96cf");var i=a("1da1");function n(){}function r(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.7,i=[{d:"N",lower:348.75,upper:11.25},{d:"NNE",lower:11.25,upper:33.75},{d:"NE",lower:33.75,upper:56.25},{d:"ENE",lower:56.25,upper:78.75},{d:"E",lower:78.75,upper:101.25},{d:"ESE",lower:101.25,upper:123.75},{d:"SE",lower:123.75,upper:146.25},{d:"SSE",lower:146.25,upper:168.75},{d:"S",lower:168.75,upper:191.25},{d:"SSW",lower:191.25,upper:213.75},{d:"SW",lower:213.75,upper:236.25},{d:"WSW",lower:236.25,upper:258.75},{d:"W",lower:258.75,upper:281.25},{d:"WNS",lower:281.25,upper:303.75},{d:"NW",lower:303.75,upper:326.25},{d:"NNW",lower:326.25,upper:348.75}];i=[{d:"N",lower:348.75,upper:11.25},{d:"NNE",lower:11.25,upper:33.75},{d:"NE",lower:33.75,upper:56.25},{d:"ENE",lower:56.25,upper:78.75},{d:"E",lower:78.75,upper:101.25},{d:"ESE",lower:101.25,upper:123.75},{d:"SE",lower:123.75,upper:146.25},{d:"SSE",lower:146.25,upper:168.75},{d:"S",lower:168.75,upper:191.25},{d:"SSW",lower:191.25,upper:213.75},{d:"SW",lower:213.75,upper:236.25},{d:"WSW",lower:236.25,upper:258.75},{d:"W",lower:258.75,upper:281.25},{d:"WNS",lower:281.25,upper:303.75},{d:"NW",lower:303.75,upper:326.25},{d:"NNW",lower:326.25,upper:348.75}];var n=null;t.sort((function(t,e){return t.selected_chemical>e.selected_chemical?-1:1})),n=t[parseInt(t.length*(1-a))].selected_chemical;var r=e.reduce((function(t,e){return e.wind_speed>t?e.wind_speed:t}),-999),s=Array(parseInt(r)+1).fill(0),o=Array(parseInt(r)+1).fill(0);s=s.map((function(t,e){return{speed:e+1,r:Array(16).fill(0)}})),o=o.map((function(t,e){return{speed:e+1,r:Array(16).fill(0)}}));for(var l,c,u,h,d,p=0,f=0,m=function(a){if(l=e[a].wind_direction,c=e[a].wind_speed,d=t.find((function(t){return t.time_stamp==e[a].time_stamp})),null!==l&&null!==c&&void 0!==d){if(d=d.selected_chemical,l>348.75)u=0;else for(var r=1;r<i.length;r++)if(l<=i[r].upper){u=r;break}for(var m=0;m<s.length;m++)if(c<=s[m].speed){h=m;break}o[h].r[u]+=1,f+=1,d>n&&(s[h].r[u]+=1,p+=1)}},v=0;v<e.length;v++)m(v);for(var g=Array(16).fill(0),_=Array(16).fill(0),y=0;y<i.length;y++)for(var b=0;b<s.length;b++)s[b].r[y]>0&&(g[y]+=s[b].r[y]),o[b].r[y]>0&&(_[y]+=o[b].r[y]);g=g.map((function(t){return t/p})),_=_.map((function(t){return t/f}));for(var w=[{value:.3,color:"#8ef5b7"},{value:.2,color:"#A0DAB7"},{value:.15,color:"#1F93C0"},{value:.1,color:"#2F528F"},{value:.05,color:"#162876"}],x=[0,22.5,45,67.5,90,112.5,135,157.5,180,202.5,225,247.5,270,292.5,315,337.5],k=[],S=0;S<w.length;S++){var C={r:[],theta:[],type:"scatterpolargl",mode:"markers",marker:{color:w[S].color,size:30,line:{color:"white"},opacity:.7},cliponaxis:!1};0==S&&(C.r=Array(16).fill(0),C.theta=x),k.push(C)}for(var j=0;j<s.length;j++)for(var O=0;O<s[j].r.length;O++){var A=s[j].r[O]/o[j].r[O];A>.3?(k[0].r.push(j),k[0].theta.push(x[O])):A>.2?(k[1].r.push(j),k[1].theta.push(x[O])):A>.15?(k[2].r.push(j),k[2].theta.push(x[O])):A>.1?(k[3].r.push(j),k[3].theta.push(x[O])):(k[4].r.push(j),k[4].theta.push(x[O]))}var E={cbpf:k.reverse(),cpf:{high:{r:g,theta:x,type:"scatterpolar",fill:"toself",name:"High"},all:{r:_,theta:x,type:"scatterpolar",fill:"toself",name:"All"}}};return E}function s(t){for(var e,a,i,n,r=[{d:"N",lower:348.75,upper:11.25},{d:"NNE",lower:11.25,upper:33.75},{d:"NE",lower:33.75,upper:56.25},{d:"ENE",lower:56.25,upper:78.75},{d:"E",lower:78.75,upper:101.25},{d:"ESE",lower:101.25,upper:123.75},{d:"SE",lower:123.75,upper:146.25},{d:"SSE",lower:146.25,upper:168.75},{d:"S",lower:168.75,upper:191.25},{d:"SSW",lower:191.25,upper:213.75},{d:"SW",lower:213.75,upper:236.25},{d:"WSW",lower:236.25,upper:258.75},{d:"W",lower:258.75,upper:281.25},{d:"WNS",lower:281.25,upper:303.75},{d:"NW",lower:303.75,upper:326.25},{d:"NNW",lower:326.25,upper:348.75}],s=0,o=[{text:"Calm",speed:2,legend:"<2 m/s",color:"#062CFB",r:Array(16).fill(0)},{text:"Light air",speed:6,legend:"2-6 m/s",color:"#17D3FF",r:Array(16).fill(0)},{text:"Light breeze",speed:12,legend:"6-12 m/s",color:"#7DFE7A",r:Array(16).fill(0)},{text:"Gentle breeze",speed:19,legend:"12-19 m/s",color:"#FFE50D",r:Array(16).fill(0)},{text:"Moderate breeze",speed:30,legend:"19-30 m/s",color:"#FFE50D",r:Array(16).fill(0)},{text:"Fresh",speed:40,legend:"30-40 m/s",color:"#810006",r:Array(16).fill(0)},{text:"strong",speed:100,legend:">40 m/s",color:"#810006",r:Array(16).fill(0)}],l=0;l<t.length;l++)if(e=t[l].wind_direction,a=t[l].wind_speed,null!==e&&null!==a){if(s+=1,e>348.75)i=0;else for(var c=1;c<r.length;c++)if(e<=r[c].upper){i=c;break}for(var u=0;u<o.length;u++)if(a<=o[u].speed){n=u;break}o[n].r[i]+=1}for(var h=0;h<r.length;h++)for(var d=1;d<o.length;d++)o[d].r[h]>0&&(o[d].r[h]+=o[d-1].r[h]);for(var p=[],f=0;f<o.length;f++)p.push({r:o[f].r.map((function(t){return Math.round(t/s*100*100)/100})),theta:["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNS","NW","NNW"],name:o[f].legend,marker:{color:o[f].color},type:"barpolar"});return p.reverse()}function o(){}function l(t,e){function a(t){var e=t.length,a=t.reduce((function(t,e){return t+e}))/e;return t.map((function(t){return(t-a)*(t-a)})).reduce((function(t,e){return t+e}))/e}for(var i=t.reduce((function(t,a){var i,n=a.x.getFullYear(),r=a.x.getMonth()+1,s=a.x.getDate(),o=a.x.getHours();switch(e){case"hourly":i=n+"-"+r+"-"+s+" "+o;break;case"daily":i=n+"-"+r+"-"+s;break;case"monthly":i=n+"-"+r;break;case"yearly":i=n;break}return null!==a.y&&(t.date.includes(i)?(t[i].sum+=a.y,t[i].count+=1,t[i].value.push(a.y)):(t.date.push(i),t[i]={sum:0,count:0,value:[]},t[i].sum=a.y,t[i].count=1,t[i].value.push(a.y))),t}),{date:[]}),n=[],r=[],s=[],o=0;o<i.date.length;o++)n.push(new Date(i.date[o])),r.push(i[i.date[o]].sum/i[i.date[o]].count),s.push(a(i[i.date[o]].value));return{x:n,y:r,deviation:s}}function c(t){var e=t.length,a=t.reduce((function(t,e){return t+e}))/e;return Math.sqrt(t.map((function(t){return Math.pow(t-a,2)})).reduce((function(t,e){return t+e}))/e)}function u(t,e){for(var a={},i=t.length,n=0,r=0,s=0,o=0,l=0,c=0;c<t.length;c++)n+=e[c],r+=t[c],s+=e[c]*t[c],o+=e[c]*e[c],l+=t[c]*t[c];a["slope"]=(i*s-n*r)/(i*o-n*n),a["intercept"]=(r-a.slope*n)/i,a["r2"]=Math.pow((i*s-n*r)/Math.sqrt((i*o-n*n)*(i*l-r*r)),2);var u=Math.min.apply(null,e),h=Math.max.apply(null,e);return a["line"]={x1:u,y1:u*a.slope+a.intercept,x2:h,y2:h*a.slope+a.intercept},a}function h(){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return f=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function m(t,e){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(regeneratorRuntime.mark((function t(e,a){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in i=e,a)i=i.filter((function(t){return a[n].includes(t[n])}));return t.abrupt("return",i);case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function g(t,e){var a=t;for(var i in e)a=a.filter((function(t){return e[i].includes(t[i])}));return a}e["a"]={linearRegression:u,getStandardDeviation:c,cal_period_avg:l,sen_slope:o,data_filter:m,data_reduce:h,data_merge:p,data_cal_windrose:s,data_filter_2:g,data_cal_cpf:r,data_cal_pscf:n}},e7d7:function(t,e,a){},ec29:function(t,e,a){},fe09:function(t,e,a){"use strict";a("4de4"),a("45fc"),a("d3b7"),a("25f0");var i=a("c37a"),n=a("5311"),r=a("8547"),s=a("58df");e["a"]=Object(s["a"])(i["a"],n["a"],r["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,a=this.internalValue;return this.isMultiple?!!Array.isArray(a)&&a.some((function(a){return t.valueComparator(a,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,a):Boolean(a):this.valueComparator(a,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.disabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var t=this,e=i["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:function(e){e.preventDefault(),t.onChange()}},e):e},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur:function(){this.isFocused=!1},onChange:function(){var t=this;if(!this.isDisabled){var e=this.value,a=this.internalValue;if(this.isMultiple){Array.isArray(a)||(a=[]);var i=a.length;a=a.filter((function(a){return!t.valueComparator(a,e)})),a.length===i&&a.push(e)}else a=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(a,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(a,e)?null:e:!a;this.validate(!0,a),this.internalValue=a,this.hasColor=a}},onFocus:function(){this.isFocused=!0},onKeydown:function(t){}}})}}]);
//# sourceMappingURL=chunk-aba4b592.f721b158.js.map